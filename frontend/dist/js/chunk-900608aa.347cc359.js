(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-900608aa","chunk-0320ac91"],{"34c2":function(t,e,r){},3922:function(t,e,r){"use strict";var i=r("34c2"),s=r.n(i);s.a},"45bb":function(t,e,r){"use strict";var i=r("80de"),s=r.n(i);s.a},"4d53":function(t,e,r){"use strict";var i=r("8390"),s=r.n(i);s.a},"5e2c":function(t,e,r){t.exports=r.p+"img/no-img.88294ef3.png"},"753d":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Products")],1)},s=[],n=r("ad9e"),c={name:"Home",components:{Products:n["default"]}},o=c,a=r("2877"),u=Object(a["a"])(o,i,s,!1,null,"7610b69f",null);e["default"]=u.exports},"80de":function(t,e,r){},8390:function(t,e,r){},"8a11":function(t,e,r){"use strict";var i=r("ae67"),s=r.n(i);s.a},ad9e:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",[t.query?r("h3",[t._v(' Результаты поиска по запросу "'+t._s(t.query)+'" ')]):t._e()]),r("Sorting",{attrs:{count:t.count},on:{sortingProductPrice:t.sortingProductPrice,filterProduct:t.filterProduct}}),t.filter?r("Filtration",{attrs:{"filterable-list":t.products,"filterable-field":"manufacturer"},on:{filteredItem:t.filteredManufacturer}}):r("div"),r("div",{staticClass:"products"},t._l(t.productsFiltered,(function(t){return r("div",{key:t.title,staticClass:"item"},[r("Product",{attrs:{product:t}})],1)})),0)],1)},s=[],n=(r("55dd"),r("96cf"),r("3b8d")),c=(r("4917"),r("b414")),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product"},[t._m(0),r("div",{staticClass:"title",domProps:{textContent:t._s(t.product.title)}}),r("div",{staticClass:"manufacturer",domProps:{textContent:t._s(t.product.manufacturer)}}),r("div",{staticClass:"price",domProps:{textContent:t._s(t.product.price+" руб.")}}),r("b-button",{staticClass:"action",attrs:{variant:"success"},on:{click:t.toBasket}},[r("custom-icon",{staticClass:"custom-icon",attrs:{name:"shopping-cart"}}),r("span",[t._v("Купить")])],1)],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pic"},[i("img",{attrs:{id:"myImg",src:r("5e2c"),alt:""}})])}],u=r("f1dd"),l=(r("60c4"),{name:"Product",components:{customIcon:u["a"]},props:{product:{type:Object}},methods:{toBasket:function(){this.$router.push("/basket"),this.product.photo=document.getElementById("myImg").src,this.product.quantity=1,this.product.valueProduct=parseFloat((this.product.quantity*this.product.price).toFixed(1)),this.$store.commit("addProduct",this.product)}}}),d=l,f=(r("3922"),r("2877")),p=Object(f["a"])(d,o,a,!1,null,"625f0c9b",null),m=p.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sort-list"},[r("div",{staticClass:"counter"},[r("span",[t._v("Товаров: "+t._s(t.count))])]),r("div",{staticClass:"sorting"},[r("b-dropdown",{staticClass:"m-2",attrs:{split:"","split-variant":"outline-info",variant:"info",text:t.text}},[r("b-dropdown-item",{on:{click:t.sortingFromMin}},[t._v("От дешевых")]),r("b-dropdown-item",{on:{click:t.sortingFromMax}},[t._v("От дорогих")])],1),r("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.filterProduct}},[t.state?r("i",[r("custom-icon",{staticClass:"custom-icon",attrs:{name:"filter"}})],1):r("i",[r("custom-icon",{staticClass:"custom-icon",attrs:{name:"activity"}})],1),r("span",[t._v("Фильтр")])])],1)])},v=[],b=(r("c5f6"),{name:"Sorting",components:{customIcon:u["a"]},props:{count:Number},data:function(){return{text:"Сортировка",state:!0}},methods:{sortingFromMin:function(){this.text="От дешевых",this.$emit("sortingProductPrice","min")},sortingFromMax:function(){this.text="От дорогих",this.$emit("sortingProductPrice","max")},filterProduct:function(){this.$emit("filterProduct",this.state),this.state=!this.state}}}),g=b,x=(r("4d53"),Object(f["a"])(g,h,v,!1,null,"7cca6f5e",null)),P=x.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"filtered"},[r("b-form-group",{staticClass:"inline-group"},[r("b-form-checkbox-group",{attrs:{options:t.options,name:"flavour-1a"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),r("b-form-group",{staticClass:"stacked"},[r("b-form-checkbox-group",{attrs:{options:t.options,name:"flavour-2a",stacked:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},y=[],C=(r("ac6a"),r("a30f")),k=r.n(C),F={name:"Filters",props:{filterableList:{type:Array},filterableField:{type:String}},data:function(){return{selected:[],options:[]}},methods:{createOptionsList:function(){var t=this;this.filterableList.forEach((function(e){e.text=e[t.filterableField]}));var e=k()(this.filterableList,"text"),r=[];for(var i in e)r.push(i);this.options=this.options.concat(r)},selectedItem:function(){this.$emit("filteredItem",this.selected)}},mounted:function(){this.createOptionsList()},watch:{selected:function(){this.selectedItem()}}},$=F,w=(r("8a11"),Object(f["a"])($,_,y,!1,null,"3259d20a",null)),q=w.exports,I={components:{Product:m,Filtration:q,Sorting:P},data:function(){return{query:"",filter:null,manufacturerFilter:null,products:[],count:0}},computed:{productsFiltered:function(){if(this.manufacturerFilter&&this.manufacturerFilter.length){var t=this.manufacturerFilter.join("|"),e=this.products.filter((function(e){return e.text.match(t)}));return this.count=e.length,e}return this.count=this.products.length,this.products}},methods:{loadProducts:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e&&e.length||(e=""),t.next=3,c["a"]("products",{query:e});case 3:r=t.sent,this.products=r.products,this.count=this.products.length;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),checkQueryAndLoadProducts:function(){this.$route.params.textseach!==this.query&&(this.query=this.$route.params.textseach,this.loadProducts(this.query))},sortingProductPrice:function(t){var e=function(e,r){return"min"===t?e.price>r.price?1:-1:"max"===t?e.price<r.price?1:-1:void 0};this.products.sort(e)},filterProduct:function(t){!0===t?this.filter=t:(this.filter=null,this.manufacturerFilter=null)},filteredManufacturer:function(t){this.manufacturerFilter=t}},mounted:function(){this.checkQueryAndLoadProducts()},updated:function(){""!==this.query&&void 0!==this.query||(this.$route.params.textseach="")},watch:{$route:function(){this.checkQueryAndLoadProducts()}}},O=I,j=(r("45bb"),Object(f["a"])(O,i,s,!1,null,"7fa4e51a",null));e["default"]=j.exports},ae67:function(t,e,r){}}]);
//# sourceMappingURL=chunk-900608aa.347cc359.js.map